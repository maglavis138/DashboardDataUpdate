{
    "collab_server" : "",
    "contents" : "\nlibrary(curl)\nlibrary(jsonlite)\n\nsince = as.Date(\"2017-08-23\")\nuntil = as.Date(\"2017-08-31\")\npost_type = 'all'\n\n\n##############################################################################################\n########################################## INSIGHTS ##########################################\n##############################################################################################\n\n\nGetPostIds = function(since, until){\n  base = \"https://graph.facebook.com/v2.6/1769264743325558/posts\"\n  cross= paste(\"?fields=id,link,created_time,type,message,description&limit=10&since=\", since, \"T00:00:00-8:00&until=\", until,\"T00:00:00-8:00&access_token=\", sep = \"\")\n  token= \"EAAZAEuju9Pm4BAP2BOHk8EZAGbASBp3GHGf3gCGjZCwWFNvjaQtJqlYpZBVb9HyZCWHBhGbLXCso04lKklYsXPnvWX7ggTABhnPfbZCkXUbAH7IEnIv0Uy4ajkZBMt9JZANN4rRRHS8MLhYgt95T4ApQv5e0zCOhrlK0DfSYBSqbZAwZDZD\"\n  \n  url  = paste(base, cross, token, sep=\"\")\n  \n  id_data  = fromJSON(url)\n}\n\nid_data = GetPostIds(since, until)\nposts   = id_data$data\n\nhas_next_page = TRUE\nnum_processed = 0\nstatuses = vector()\nscrape_starttime = datetime.datetime.now()\n\nwhile (has_next_page == TRUE ){\n  for (i in posts$id){\n    \n    if (post_type == \"all\"){\n      statuses = append(statuses, i)\n      num_processed = num_processed + 1\n      if(num_processed %% 100 == 0){\n        print(paste(num_processed, 'Kekerino!!!'))\n      } ##Falta la fecha\n    }\n    \n    else if(posts$type[match(i,posts$id)] == post_type)\n    {\n      statuses = append(statuses, i)\n      num_processed = num_processed + 1\n      if(num_processed %% 100 == 0){\n        print(paste(num_processed, 'Kekerino!!!'))\n      } ##Falta la fecha\n    }\n    \n  }\n  if('paging' %in% names(id_data)){\n    id_data = fromJSON(id_data$paging$'next')\n    posts = id_data$data\n  }\n  else{\n    has_next_page = FALSE\n  }\n}\n\nprint(paste('Severo perro...', num_processed, \"Posts Procesados\"))\n\nGetPostData = function(status){\n  base = paste(\"https://graph.facebook.com/v2.6/\", status, sep=\"\")\n  cross= \"?fields=id,created_time,message,link,name,type,comments.limit(1).summary(true),shares,reactions.limit(1).summary(true),full_picture&limit=100&access_token=\"\n  token= \"EAAZAEuju9Pm4BAP2BOHk8EZAGbASBp3GHGf3gCGjZCwWFNvjaQtJqlYpZBVb9HyZCWHBhGbLXCso04lKklYsXPnvWX7ggTABhnPfbZCkXUbAH7IEnIv0Uy4ajkZBMt9JZANN4rRRHS8MLhYgt95T4ApQv5e0zCOhrlK0DfSYBSqbZAwZDZD\"\n  \n  url  = paste(base, cross, token, sep=\"\")\n  \n  post_data  = fromJSON(url)\n  return(post_data)\n}\n\ngetFacebookPageFeedData = function(status){\n  base = paste(\"https://graph.facebook.com/v2.6/\", status, \"/insights/\", sep = '')\n  cross= \"?limit=100&period=lifetime&access_token=\"\n  token= \"EAAZAEuju9Pm4BAP2BOHk8EZAGbASBp3GHGf3gCGjZCwWFNvjaQtJqlYpZBVb9HyZCWHBhGbLXCso04lKklYsXPnvWX7ggTABhnPfbZCkXUbAH7IEnIv0Uy4ajkZBMt9JZANN4rRRHS8MLhYgt95T4ApQv5e0zCOhrlK0DfSYBSqbZAwZDZD\"\n  url  = paste(base, cross, token, sep = '')\n  data = fromJSON(url)\n  return(data)\n}\n\nendate = since + 30\n\nif(endate > until){\n  endate = until}\n\nGetPageData = function(since, until){\n  base = \"https://graph.facebook.com/v2.6/1769264743325558/insights\"\n  cross= paste(\"/page_fans,page_fan_adds?since=\", since, \"T00:00:00&until=\", endate,\"T00:00:00&access_token=\", sep = \"\")\n  token= \"EAAZAEuju9Pm4BAP2BOHk8EZAGbASBp3GHGf3gCGjZCwWFNvjaQtJqlYpZBVb9HyZCWHBhGbLXCso04lKklYsXPnvWX7ggTABhnPfbZCkXUbAH7IEnIv0Uy4ajkZBMt9JZANN4rRRHS8MLhYgt95T4ApQv5e0zCOhrlK0DfSYBSqbZAwZDZD\"\n  \n  url  = paste(base, cross, token, sep=\"\")\n  \n  id_data  = fromJSON(url)\n}\n\npi = data.frame()\n\nfinish = FALSE\nwhile(finish == FALSE){\n  if(endate == until){\n    finish = TRUE}\n  pagedata = GetPageData(since, until)\n  pi = rbind(pi, data.frame('daily_new_likes' = pagedata$data$values[[2]]$value,\n                            'total_likes' = pagedata$data$values[[1]]$value,\n                            'date' = pagedata$data$values[[1]][2]))\n  since = endate\n  if(endate + 30 >= until){\n    endate = until}\n  else{endate = endate + 30}\n}\n\npi$date = format(as.Date(pi$end_time), \"%Y-%m-%d\")\npi = within(pi, rm(end_time))\n\n################\n\nprocessFacebookPageFeedStatus = function(status){\n  \n  post_data = GetPostData(status)\n  data = getFacebookPageFeedData(status)\n  \n  status_id = post_data['id'][[1]]\n  permalink = paste('https://www.facebook.com/', post_data['id'][[1]], sep = '')\n  post_type = post_data['type'][[1]]\n  \n  full_picture = post_data['full_picture'][[1]]\n  \n  if(is.null(post_data['shares']$shares$count[[1]])){shares_on_post = 0} else {shares_on_post = post_data['shares']$shares$count[[1]]}\n  if(is.null(post_data['comments']$comments$summary$total_count[[1]])){comments_on_post = 0} else {comments_on_post = post_data['comments']$comments$summary$total_count[[1]]}\n  if(is.null(post_data['reactions']$reactions$summary$total_count[[1]])){likes_on_post = 0} else {likes_on_post = post_data['reactions']$reactions$summary$total_count[[1]]}\n  \n  if(is.null(post_data['message'][[1]])){sharetext = ''} else {sharetext = post_data['message'][[1]]}\n  if(is.null(post_data['name'][[1]])){headline = ''} else {headline = post_data['name'][[1]]}\n  if(is.null(post_data['link'][[1]])){link = ''} else {link = post_data['link'][[1]]}\n  \n  \n  status_published = format(as.POSIXct(strptime(post_data['created_time'][[1]], \"%Y-%m-%dT%H:%M:%OS\", tz=\"UTC\")), tz=\"America/Los_Angeles\",usetz=TRUE)\n  status_published = as.POSIXct(status_published)\n  created_time = format(status_published, '%Y-%m-%d %H:%M:%S')\n  date = format(status_published, '%Y-%m-%d')\n  hour = format(status_published, \"%H:%M\")\n  \n  post_consumptions_by_type = data$data$values[[match(\"post_consumptions_by_type\", data$data$name)]][[1]]\n  colnames(post_consumptions_by_type) = gsub('\\\\s+', '_', colnames(post_consumptions_by_type))\n  \n  \n  post_story_adds_by_action_type = data$data$values[[match(\"post_story_adds_by_action_type\", data$data$name)]][[1]]\n  colnames(post_story_adds_by_action_type) = gsub('\\\\s+', '_', colnames(post_story_adds_by_action_type))\n  \n  \n  if(is.null(data$data$values[[match('post_impressions',data$data$name)]][[1]])){post_impressions = 0} else {post_impressions =data$data$values[[match('post_impressions',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_impressions_unique',data$data$name)]][[1]])){post_reach = 0} else {post_reach =data$data$values[[match('post_impressions_unique',data$data$name)]][[1]]}\n  \n  if(is.null(data$data$values[[match('post_impressions_fan_unique',data$data$name)]][[1]])){post_reach_fan_unique = 0} else {post_reach_fan_unique =data$data$values[[match('post_impressions_fan_unique',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_impressions_viral_unique',data$data$name)]][[1]])){post_reach_viral_unique = 0} else {post_reach_viral_unique =data$data$values[[match('post_impressions_viral_unique',data$data$name)]][[1]]}\n  \n  \n  if(is.null(post_story_adds_by_action_type$comment)){total_comments = 0} else {total_comments = post_story_adds_by_action_type$comment}\n  if(is.null(post_story_adds_by_action_type$like)){total_likes = 0} else {total_likes = post_story_adds_by_action_type$like}\n  if(is.null(post_story_adds_by_action_type$share)){total_shares = 0} else {total_shares = post_story_adds_by_action_type$share}\n  \n  likes_on_shares    = total_likes - likes_on_post\n  comments_on_shares = total_comments - comments_on_post\n  shares_on_shares   = total_shares - shares_on_post\n  \n  if(likes_on_shares<0){likes_on_shares = 0}\n  if(comments_on_shares<0){comments_on_shares = 0}\n  if(shares_on_shares<0){shares_on_shares = 0}\n  \n  if(is.null(post_consumptions_by_type$link_clicks)){link_clicks = 0} else {link_clicks = post_consumptions_by_type$link_clicks}\n  if(is.null(post_consumptions_by_type$photo_view)){photo_view = 0} else {photo_view = post_consumptions_by_type$photo_view}\n  if(is.null(post_consumptions_by_type$video_play)){video_play = 0} else {video_play = post_consumptions_by_type$video_play}\n  if(is.null(post_consumptions_by_type$other_clicks)){other_clicks = 0} else {other_clicks = post_consumptions_by_type$other_clicks}\n  \n  if(is.null(data$data$values[[match('post_negative_feedback',data$data$name)]][[1]])){post_negative_feedback = 0} else {post_negative_feedback =data$data$values[[match('post_negative_feedback',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_story_adds',data$data$name)]][[1]])){post_story_adds = 0} else {post_story_adds =data$data$values[[match('post_story_adds',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_stories',data$data$name)]][[1]])){post_stories = 0} else {post_stories =data$data$values[[match('post_stories',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_storytellers',data$data$name)]][[1]])){post_storytellers = 0} else {post_storytellers =data$data$values[[match('post_storytellers',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_consumptions',data$data$name)]][[1]])){post_consumptions = 0} else {post_consumptions =data$data$values[[match('post_consumptions',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_engaged_users',data$data$name)]][[1]])){post_engaged_users = 0} else {post_engaged_users =data$data$values[[match('post_engaged_users',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_engaged_fan',data$data$name)]][[1]])){post_engaged_fan = 0} else {post_engaged_fan =data$data$values[[match('post_engaged_fan',data$data$name)]][[1]]}\n  \n  if(is.null(data$data$values[[match('post_video_complete_views_30s_autoplayed',data$data$name)]][[1]])){post_video_complete_views_30s_autoplayed = 0} else {post_video_complete_views_30s_autoplayed =data$data$values[[match('post_video_complete_views_30s_autoplayed',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_complete_views_30s_clicked_to_play',data$data$name)]][[1]])){post_video_complete_views_30s_clicked_to_play = 0} else {post_video_complete_views_30s_clicked_to_play =data$data$values[[match('post_video_complete_views_30s_clicked_to_play',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_complete_views_30s_organic',data$data$name)]][[1]])){post_video_complete_views_30s_organic = 0} else {post_video_complete_views_30s_organic =data$data$values[[match('post_video_complete_views_30s_organic',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_complete_views_30s_paid',data$data$name)]][[1]])){post_video_complete_views_30s_paid = 0} else {post_video_complete_views_30s_paid =data$data$values[[match('post_video_complete_views_30s_paid',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_complete_views_30s_unique',data$data$name)]][[1]])){post_video_complete_views_30s_unique = 0} else {post_video_complete_views_30s_unique =data$data$values[[match('post_video_complete_views_30s_unique',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_avg_time_watched',data$data$name)]][[1]])){post_video_avg_time_watched = 0} else {post_video_avg_time_watched =data$data$values[[match('post_video_avg_time_watched',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_complete_views_organic_unique',data$data$name)]][[1]])){post_video_complete_views_organic_unique = 0} else {post_video_complete_views_organic_unique =data$data$values[[match('post_video_complete_views_organic_unique',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_length',data$data$name)]][[1]])){post_video_length = 0} else {post_video_length =data$data$values[[match('post_video_length',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_views',data$data$name)]][[1]])){post_video_views = 0} else {post_video_views =data$data$values[[match('post_video_views',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_views_autoplayed',data$data$name)]][[1]])){post_video_views_autoplayed = 0} else {post_video_views_autoplayed =data$data$values[[match('post_video_views_autoplayed',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_views_clicked_to_play',data$data$name)]][[1]])){post_video_views_clicked_to_play = 0} else {post_video_views_clicked_to_play =data$data$values[[match('post_video_views_clicked_to_play',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_views_10s_unique',data$data$name)]][[1]])){post_video_views_10s_unique = 0} else {post_video_views_10s_unique =data$data$values[[match('post_video_views_10s_unique',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_views_10s_autoplayed',data$data$name)]][[1]])){post_video_views_10s_autoplayed = 0} else {post_video_views_10s_autoplayed =data$data$values[[match('post_video_views_10s_autoplayed',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_views_10s_clicked_to_play',data$data$name)]][[1]])){post_video_views_10s_clicked_to_play = 0} else {post_video_views_10s_clicked_to_play =data$data$values[[match('post_video_views_10s_clicked_to_play',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_views_10s_sound_on',data$data$name)]][[1]])){post_video_views_10s_sound_on = 0} else {post_video_views_10s_sound_on =data$data$values[[match('post_video_views_10s_sound_on',data$data$name)]][[1]]}\n  if(is.null(data$data$values[[match('post_video_views_sound_on',data$data$name)]][[1]])){post_video_views_sound_on = 0} else {post_video_views_sound_on =data$data$values[[match('post_video_views_sound_on',data$data$name)]][[1]]}\n  \n  \n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'0')){s0 = ''} else {s0 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'0'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'1')){s1 = ''} else {s1 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'1'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'2')){s2 = ''} else {s2 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'2'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'3')){s3 = ''} else {s3 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'3'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'4')){s4 = ''} else {s4 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'4'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'5')){s5 = ''} else {s5 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'5'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'6')){s6 = ''} else {s6 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'6'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'7')){s7 = ''} else {s7 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'7'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'8')){s8 = ''} else {s8 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'8'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'9')){s9 = ''} else {s9 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'9'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'10')){s10 = ''} else {s10 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'10'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'11')){s11 = ''} else {s11 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'11'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'12')){s12 = ''} else {s12 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'12'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'13')){s13 = ''} else {s13 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'13'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'14')){s14 = ''} else {s14 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'14'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'15')){s15 = ''} else {s15 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'15'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'16')){s16 = ''} else {s16 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'16'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'17')){s17 = ''} else {s17 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'17'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'18')){s18 = ''} else {s18 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'18'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'19')){s19 = ''} else {s19 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'19'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'20')){s20 = ''} else {s20 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'20'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'21')){s21 = ''} else {s21 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'21'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'22')){s22 = ''} else {s22 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'22'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'23')){s23 = ''} else {s23 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'23'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'24')){s24 = ''} else {s24 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'24'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'25')){s25 = ''} else {s25 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'25'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'26')){s26 = ''} else {s26 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'26'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'27')){s27 = ''} else {s27 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'27'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'28')){s28 = ''} else {s28 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'28'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'29')){s29 = ''} else {s29 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'29'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'30')){s30 = ''} else {s30 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'30'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'31')){s31 = ''} else {s31 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'31'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'32')){s32 = ''} else {s32 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'32'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'33')){s33 = ''} else {s33 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'33'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'34')){s34 = ''} else {s34 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'34'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'35')){s35 = ''} else {s35 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'35'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'36')){s36 = ''} else {s36 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'36'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'37')){s37 = ''} else {s37 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'37'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'38')){s38 = ''} else {s38 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'38'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'39')){s39 = ''} else {s39 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'39'}\n  if(is.null(data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'40')){s40 = ''} else {s40 = data$data$values[match('post_video_retention_graph',data$data$name)][[1]][,1]$'40'}\n  \n  page_total_likes = pi$total_likes[match(date, pi$date)]\n  page_new_likes   = pi$daily_new_likes[match(date, pi$date)]\n  \n  result = t(as.matrix(c(status_id,permalink,post_type,sharetext,headline,link,full_picture,created_time,date,hour,page_total_likes,page_new_likes,post_impressions,post_reach,post_reach_fan_unique,post_reach_viral_unique,comments_on_post,likes_on_post,shares_on_post,total_comments,total_likes,total_shares,comments_on_shares,likes_on_shares,shares_on_shares,link_clicks,photo_view,video_play,other_clicks,post_negative_feedback,post_story_adds,post_stories,post_storytellers,post_consumptions,post_engaged_users,post_engaged_fan,post_video_complete_views_30s_autoplayed,post_video_complete_views_30s_clicked_to_play,post_video_complete_views_30s_organic,post_video_complete_views_30s_paid,post_video_complete_views_30s_unique,post_video_avg_time_watched,post_video_complete_views_organic_unique,post_video_length,post_video_views,post_video_views_autoplayed,post_video_views_clicked_to_play,post_video_views_10s_unique,post_video_views_10s_autoplayed,post_video_views_10s_clicked_to_play,post_video_views_10s_sound_on,post_video_views_sound_on, s0,\ts1,\ts2,\ts3,\ts4,\ts5,\ts6,\ts7,\ts8,\ts9,\ts10,\ts11,\ts12,\ts13,\ts14,\ts15,\ts16,\ts17,\ts18,\ts19,\ts20,\ts21,\ts22,\ts23,\ts24,\ts25,\ts26,\ts27,\ts28,\ts29,\ts30,\ts31,\ts32,\ts33,\ts34,\ts35,\ts36,\ts37,\ts38,\ts39,\ts40)))\n  return(result)\n}\n\n# statuses = c('1405630409737397_1510785635888540','1405630409737397_1511436792490091','1405630409737397_1511436792490091','1405630409737397_1512136232420147','1405630409737397_1532264077074029','1405630409737397_1532392773727826','1405630409737397_1560033190963784','1405630409737397_1647037648930004','1405630409737397_1653348084965627','1405630409737397_1653363801630722','1405630409737397_1653349724965463','1405630409737397_1653346828299086','1405630409737397_1653375138296255','1405630409737397_1653423528291416','1405630409737397_1653337191633383','1405630409737397_1653411344959301','1405630409737397_1653338324966603','1405630409737397_1653295401637562','1405630409737397_1653423781624724','1405630409737397_1653339828299786','1405630409737397_1653285528305216','1405630409737397_1653425824957853','1405630409737397_1653715424928893','1405630409737397_1653298638303905','1405630409737397_1653754348258334','1405630409737397_1653786898255079','1405630409737397_1653773454923090','1405630409737397_1653837734916662','1405630409737397_1653864711580631','1405630409737397_1653826244917811','1405630409737397_1653823791584723','1405630409737397_1653860541581048','1405630409737397_1653841741582928','1405630409737397_1653883098245459','1405630409737397_1653829834917452','1405630409737397_1654051918228577','1405630409737397_1653345221632580','1405630409737397_1654052261561876','1405630409737397_1650206555279780','1405630409737397_1653850838248685','1405630409737397_1654052101561892','1405630409737397_1653253214975114','1405630409737397_1654294671537635','1405630409737397_1653851061581996','1405630409737397_1653773421589760','1405630409737397_1654295988204170','1405630409737397_1653304694969966','1405630409737397_1653302434970192','1405630409737397_1650666325233803','1405630409737397_1654435468190222','1405630409737397_1654435698190199','1405630409737397_1659396867694082','1405630409737397_1671326359834466','1405630409737397_1673861356247633','1405630409737397_1673848899582212','1405630409737397_1682996722000763')\n\nnp = 0\nfinal = data.frame(matrix(ncol = 92, nrow = 0))\nfor(status in statuses){\n  final = rbind(final, processFacebookPageFeedStatus(status))\n  np = np +1\n  if(np %% 20 == 0){\n    print(paste(np, 'Posts Procesados (Woooooot!!?!!!?)'))}\n}\ncolnames(final) = c('status_id','permalink','post_type','sharetext','headline','link','full_picture','created_time','date','hour','page_total_likes','page_new_likes','post_impressions','post_reach','post_reach_fan_unique','post_reach_viral_unique','comments_on_post','likes_on_post','shares_on_post','total_comments','total_likes','total_shares','comments_on_shares','likes_on_shares','shares_on_shares','link_clicks','photo_view','video_play','other_clicks','post_negative_feedback','post_story_adds','post_stories','post_storytellers','post_consumptions','post_engaged_users','post_engaged_fan','post_video_complete_views_30s_autoplayed','post_video_complete_views_30s_clicked_to_play','post_video_complete_views_30s_organic','post_video_complete_views_30s_paid','post_video_complete_views_30s_unique','post_video_avg_time_watched','post_video_complete_views_organic_unique','post_video_length','post_video_views','post_video_views_autoplayed','post_video_views_clicked_to_play','post_video_views_10s_unique','post_video_views_10s_autoplayed','post_video_views_10s_clicked_to_play','post_video_views_10s_sound_on','post_video_views_sound_on','s0',\t's1',\t's2',\t's3',\t's4',\t's5',\t's6',\t's7',\t's8',\t's9',\t's10',\t's11',\t's12',\t's13',\t's14',\t's15',\t's16',\t's17',\t's18',\t's19',\t's20',\t's21',\t's22',\t's23',\t's24',\t's25',\t's26',\t's27',\t's28',\t's29',\t's30',\t's31',\t's32',\t's33',\t's34',\t's35',\t's36',\t's37',\t's38',\t's39',\t's40')\n\nwrite.csv(final, paste(\"Fierce - \", as.character(Sys.Date()), \".csv\"), row.names = FALSE)\n\n",
    "created" : 1490655518864.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "833980952",
    "id" : "ECD0E02A",
    "lastKnownWriteTime" : 1504219479,
    "last_content_update" : 1504219479662,
    "path" : "~/Dashboard Data Update/Scalper-FC.R",
    "project_path" : "Scalper-FC.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}